8fit_production:
  message_templates:
    :columns:
    - id:
      :source: _id
      :type: TEXT
    - used_count: INTEGER
      :default: 0
    - content: JSONB
    - name: TEXT
      :default: ""
    - updated_at: TIMESTAMP WITHOUT TIME ZONE
    - created_at: TIMESTAMP WITHOUT TIME ZONE
    - type: TEXT
    :meta:
      :table: message_templates
      :extra_props: true

  messages:
    :columns:
    - id:
      :source: _id
      :type: TEXT
    - updated_at: TIMESTAMP WITHOUT TIME ZONE
    - created_at: TIMESTAMP WITHOUT TIME ZONE
    - user_id: TEXT
    - sender_id: TEXT
    - body: TEXT
      :default: ""
    - metadata: JSONB
      :default: "{}"
    - random_id: TEXT
      :default: ""
    - read: BOOLEAN
      :default: "false"
    - type: TEXT
      :default: trainer
    - message_template_id: TEXT
    - workout_template_id: TEXT
    - exercise_id: TEXT
    - recipe_id: TEXT
    - cycle_id: TEXT
    - rating: TEXT
    :meta:
      :table: messages
      :extra_props: true

  plans:
    :columns:
    - id:
      :source: _id
      :type: TEXT
    - updated_at: TIMESTAMP WITHOUT TIME ZONE
    - created_at: TIMESTAMP WITHOUT TIME ZONE
    - identifier: TEXT
    - external_identifier:  TEXT
    - enabled: BOOLEAN
      :default: false
    - period: INTEGER
    - trial_period_days: INTEGER
      :default: 0
    - can_message_trainer: BOOLEAN
      :default: false
    - approx_initial_revenue: INTEGER
      :default: 0
    - approx_initial_net_revenue: INTEGER
      :default: 0
    - device_currency: TEXT
    - device_currency_symbol: TEXT
    - device_amount: INTEGER
    - device_amount_display: TEXT
    - device_discount_display: TEXT
    - device_available: BOOLEAN
      :default: false
    - allows_7d_refund: BOOLEAN
      :default: true
    - meals_delivery: TEXT
    - period_name: TEXT
    - backend: TEXT
    :meta:
      :table: plans
      :extra_props: true

  recipes:
    :columns:
    - id:
      :source: _id
      :type: TEXT
    - updated_at: TIMESTAMP WITHOUT TIME ZONE
    - created_at: TIMESTAMP WITHOUT TIME ZONE
    - creator_id: TEXT
    - updater_id: TEXT
    - version: INTEGER
    - name: TEXT
      :default: ""
    - status: TEXT
      :default: ""
    - notes: TEXT
      :default: ""
    - ef_id: INTEGER
    - image_file_name: TEXT
    - image_content_type: TEXT
    - image_file_size: INTEGER
    - image_updated_at: TIMESTAMP WITHOUT TIME ZONE
    - image_fingerprint: TEXT
    - type: TEXT
    - instructions: JSONB
      :default: "{}"
    - has_red_meat: BOOLEAN
      :default: false
    - has_beef: BOOLEAN
      :default: false
    - has_pork: BOOLEAN
      :default: false
    - has_lamb: BOOLEAN
      :default: false
    - has_poultry: BOOLEAN
      :default: false
    - has_fish: BOOLEAN
      :default: false
    - has_shellfish: BOOLEAN
      :default: false
    - has_dairy: BOOLEAN
      :default: false
    - has_soy: BOOLEAN
      :default: false
    - has_egg: BOOLEAN
      :default: false
    - has_grains: BOOLEAN
      :default: false
    - has_added_sugar: BOOLEAN
      :default: false
    - has_nuts: BOOLEAN
      :default: false
    - has_gluten: BOOLEAN
      :default: false
    - has_fruit: BOOLEAN
      :default: false
    - has_potato: BOOLEAN
      :default: false
    - has_legumes: BOOLEAN
      :default: false
    - valid_200: BOOLEAN
      :default: false
    - kcal_200: INTEGER
      :default: 0
    - valid_300: BOOLEAN
      :default: false
    - kcal_300: INTEGER
      :default: 0
    - valid_400: BOOLEAN
      :default: false
    - kcal_400: INTEGER
      :default: 0
    - valid_500: BOOLEAN
      :default: false
    - kcal_500: INTEGER
      :default: 0
    - valid_600: BOOLEAN
      :default: false
    - kcal_600: INTEGER
      :default: 0
    - valid_700: BOOLEAN
      :default: false
    - kcal_700: INTEGER
      :default: 0
    - valid_800: BOOLEAN
      :default: false
    - kcal_800: INTEGER
      :default: 0
    - valid_900: BOOLEAN
      :default: false
    - kcal_900: INTEGER
      :default: 0
    - author: TEXT
    - source_url: TEXT
    - prep_time: INTEGER
      :default: 0
    - active: BOOLEAN
      :default: false
      :default: false
    - meal_categories: TEXT ARRAY
    - view_count: INTEGER
      :default: 0
    - done_count: INTEGER
      :default: 0
    - skip_count: INTEGER
      :default: 0
    - chosen_count: INTEGER
      :default: 0
    - changed_count:  INTEGER
      :default: 0
    - diet_type: TEXT
    - num_block: FLOAT
    - contains: TEXT ARRAY
      :default: '{}'
    :related:
      :meal_block_ingredients:
        - id:
          :source: ingredients[]._id
          :type: TEXT
          :primary_key: true
        - recipe_id:
          :source: _id
          :type: TEXT
        - food_block_id:
          :source: ingredients[].food_block_id
          :type: TEXT
        - replacement_id:
          :source: ingredients[].replacement_id
          :type: TEXT
        - num_blocks:
          :source: ingredients[].num_blocks
          :type: FLOAT
          :default: 1
        - num_blocks_200:
          :source: ingredients[].num_blocks_200
          :type: FLOAT
          :default: 0
        - num_blocks_300:
          :source: ingredients[].num_blocks_300
          :type: FLOAT
          :default: 0
        - num_blocks_400:
          :source: ingredients[].num_blocks_400
          :type: FLOAT
          :default: 0
        - num_blocks_500:
          :source: ingredients[].num_blocks_500
          :type: FLOAT
        - num_blocks_600:
          :source: ingredients[].num_blocks_600
          :type: FLOAT
          :default: 0
        - num_blocks_700:
          :source: ingredients[].num_blocks_700
          :type: FLOAT
          :default: 0
        - num_blocks_800:
          :source: ingredients[].num_blocks_800
          :type: FLOAT
          :default: 0
        - num_blocks_900:
          :source: ingredients[].num_blocks_900
          :type: FLOAT
          :default: 0
        - required:
          :source: ingredients[].required
          :type: BOOLEAN
          :default: true
    :meta:
      :table: recipes
      :extra_props: true

  shopping_lists:
    :columns:
    - id:
      :source: _id
      :type: TEXT
    - updated_at: TIMESTAMP WITHOUT TIME ZONE
    - created_at: TIMESTAMP WITHOUT TIME ZONE
    - start_date: DATE
    - end_date: DATE
    - meal_ids: TEXT ARRAY
      :default: []
    - user_id: TEXT
    - meal_plan_snapshot_id: TEXT
    :meta:
      :table: shopping_lists
      :extra_props: true

